{"ast":null,"code":"import _classCallCheck from \"/Users/admin/Desktop/react-native-app/ascent-web/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Desktop/react-native-app/ascent-web/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/Desktop/react-native-app/ascent-web/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Desktop/react-native-app/ascent-web/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/Desktop/react-native-app/ascent-web/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/admin/Desktop/react-native-app/ascent-web/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/admin/Desktop/react-native-app/ascent-web/client/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport moment from 'moment';\nimport LandingPage from './components/LandingPage';\nimport Login from './components/Login/Login.js';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport ClientPage from './components/ClientPage/ClientPage';\nimport LogAWorkout from './components/LogAWorkout/LogAWorkout';\nimport SyncPage from './components/SyncPage/SyncPage';\nimport SyncRedirect from './components/SyncRedirect/SyncRedirect';\nimport SyncingPage from './components/SyncingPage/SyncingPage';\nimport Scatter from './components/Graph/Graphs';\nimport LoadingPage from './components/LoadingPage/LoadingPage';\nimport firebase from 'firebase';\nimport { firestore } from 'firebase';\nimport { isThisSecond } from 'date-fns';\nvar config = {\n  apiKey: \"AIzaSyDQSDfPrKEo3mwSOzTQjK2KxaZlIFEey6E\",\n  authDomain: \"ascent-2982c.firebaseapp.com\",\n  databaseURL: \"https://ascent-2982c.firebaseio.com\",\n  projectId: \"ascent-2982c\",\n  storageBucket: \"ascent-2982c.appspot.com\",\n  messagingSenderId: \"101065531447\"\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      clients: [],\n      first: '',\n      last: '',\n      picked: '',\n      stress_scores: [],\n      weight: [],\n      sleep: []\n    };\n\n    _this.getStressScores = function () {\n      firestore().collection('Users').doc(_this.state.picked).collection('Cardio Workouts').orderBy('start_date_local', 'asc').get().then(function (snapshot) {\n        var stressArray = [];\n        var cardioArrayYesterday = [];\n        var today = new Date();\n        var yesterday = new Date(today - 86400000);\n\n        var formattedToday = _this.formatDate(today);\n\n        var formattedYesterday = _this.formatDate(yesterday);\n\n        snapshot.forEach(function (doc) {\n          var docDate = doc.data().start_date_local.slice(0, 10);\n          stressArray.push({\n            date: docDate,\n            score: doc.data().stress_score\n          });\n\n          if (docDate === formattedYesterday) {\n            cardioArrayYesterday.push(doc.data());\n          }\n        });\n\n        _this.setState({\n          cardioArrayYesterday: cardioArrayYesterday\n        });\n\n        console.log(stressArray);\n        var fullStressArray = [];\n\n        for (var i = 0; i < stressArray.length; i++) {\n          fullStressArray.push(stressArray[i]);\n\n          if (i < stressArray.length - 1) {\n            var date1 = moment(stressArray[i].date);\n            var date2 = moment(stressArray[i + 1].date);\n            var dayDifference = (date2 - date1) / 86400000;\n\n            if (dayDifference > 1) {\n              for (var x = 1; x < dayDifference; x++) {\n                date1 = moment(date1).add(1, 'days').format('Y-MM-DD');\n                fullStressArray.push({\n                  date: date1,\n                  score: 0\n                });\n              }\n            }\n          } else {\n            // adds zeros to the end of the array to reach today's date if needed.\n            var lastWorkoutDate = new Date(stressArray[stressArray.length - 1].date.slice(0, 10));\n            var daysSinceLastWorkout = Math.floor((today - lastWorkoutDate) / (1000 * 60 * 60 * 24));\n\n            if (daysSinceLastWorkout > 0) {\n              for (var _i = 1; _i < daysSinceLastWorkout + 1; _i++) {\n                lastWorkoutDate = moment(lastWorkoutDate).add(1, 'days').format('Y-MM-DD');\n                fullStressArray.push({\n                  date: lastWorkoutDate,\n                  score: 0\n                });\n              }\n            }\n          }\n        }\n\n        _this.setState({\n          stress_scores: fullStressArray\n        }, function () {\n          _this.getAllScores();\n        });\n      });\n    };\n\n    _this.getAllScores = function () {\n      //grab stress scores\n      var stressArray = _this.state.stress_scores; // fitness\n\n      var fitness = 0;\n      var fitnessArray = [];\n      var fitnessMultiplier = 2 / 43; //fatigue\n\n      var fatigue = 0;\n      var fatigueArray = [];\n      var faitgueMultiplier = 1 / 4; // freshness\n\n      var freshness = 0;\n      var freshnessArray = [];\n      var stress;\n\n      for (var i = 0; i < stressArray.length; i++) {\n        // Reached the end on the stress Array. We don't want to throw and error \n        // by checking the next index ( doesn't exist)\n        if (i === stressArray.length - 1) {\n          var date = moment(stressArray[i].date);\n          stress = stress + stressArray[i].score;\n          console.log(stress);\n          fitness += (stress - fitness) * fitnessMultiplier;\n          fatigue += (stress - fatigue) * faitgueMultiplier;\n          freshness = fitness - fatigue;\n          fitnessArray.push({\n            x: date,\n            y: fitness\n          });\n          fatigueArray.push({\n            x: date,\n            y: fatigue\n          });\n          freshnessArray.push({\n            x: date,\n            y: freshness\n          });\n        } else {\n          stress = stressArray[i].score;\n\n          if (stressArray[i].date === stressArray[i + 1].date) {\n            stress += stressArray[i + 1].score;\n          } else {\n            var _date = moment(stressArray[i].date);\n\n            fitness += (stress - fitness) * fitnessMultiplier;\n            fitnessArray.push({\n              x: _date,\n              y: fitness\n            });\n            fatigue += (stress - fatigue) * faitgueMultiplier;\n            fatigueArray.push({\n              x: _date,\n              y: fatigue\n            });\n            freshness = fitness - fatigue;\n            freshnessArray.push({\n              x: _date,\n              y: freshness\n            });\n          }\n        }\n      }\n\n      _this.setState({\n        fitness: fitnessArray,\n        fatigue: fatigueArray,\n        freshness: freshnessArray\n      }, function () {\n        _this.getBodyWeights();\n      });\n    };\n\n    _this.fillInBodyWeights = function () {\n      var fullBodyWeight = [null];\n      var start = moment(_this.state.fitness[0].x.i);\n      var weightStart = moment(_this.state.weight[0].x.i);\n      var dayDifference = (weightStart - start) / 86400000;\n      console.log(weightStart);\n\n      if (dayDifference > 1) {\n        for (var x = 1; x < dayDifference; x++) {\n          start = moment(start).add(1, 'days').format('Y-MM-DD');\n          fullBodyWeight.push({\n            date: start,\n            score: null\n          });\n        }\n      }\n\n      console.log(fullBodyWeight);\n    };\n\n    _this.getBodyWeights = function () {\n      firestore().collection('Users').doc(_this.state.picked).collection('Body Metrics').orderBy('Date', 'asc').get().then(function (snapshot) {\n        var weightArray = [];\n        var sleepArray = [];\n        snapshot.forEach(function (doc) {\n          var placeholderWeight = {};\n          var placeholderSleep = {};\n          placeholderWeight.x = moment(doc.data().Date.seconds * 1000);\n          placeholderWeight.y = doc.data().Weight;\n          weightArray.push(placeholderWeight);\n          placeholderSleep.x = moment(doc.data().Date.seconds * 1000);\n          placeholderSleep.y = doc.data().Sleep;\n          sleepArray.push(placeholderSleep);\n        });\n\n        _this.setState({\n          weight: weightArray,\n          sleep: sleepArray\n        }, function () {\n          _this.fillInBodyWeights();\n        });\n      });\n    };\n\n    _this.handleClientPick = _this.handleClientPick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.upLoadClients = _this.upLoadClients.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectClient = _this.redirectClient.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleClientPick\",\n    value: function handleClientPick(client) {\n      var _this2 = this;\n\n      this.setState({\n        picked: client.id,\n        first: client.first,\n        last: client.last\n      }, function () {\n        _this2.getStressScores();\n\n        _this2.getBodyWeights();\n      });\n    }\n  }, {\n    key: \"formatDate\",\n    value: function formatDate(date) {\n      var d = new Date(date),\n          month = '' + (d.getMonth() + 1),\n          day = '' + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = '0' + month;\n      if (day.length < 2) day = '0' + day;\n      return [year, month, day].join('-');\n    }\n  }, {\n    key: \"upLoadClients\",\n    value: function upLoadClients(clients) {\n      this.setState({\n        clients: clients\n      });\n    }\n  }, {\n    key: \"redirectClient\",\n    value: function redirectClient(client) {\n      this.setState({\n        picked: client\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      if (!firebase.apps.length) {\n        firebase.initializeApp(config);\n      }\n\n      firebase.auth().onAuthStateChanged(function (user) {\n        _this3.setState({\n          user: user\n        }, function () {\n          console.log(_this3.state);\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(LandingPage, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }), this.state.user === undefined ? React.createElement(LoadingPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }) : null, \"}\", React.createElement(Route, {\n        exact: true,\n        path: \"/Login\",\n        render: function render(history) {\n          if (_this4.state.user === null) {\n            return React.createElement(Login, {\n              history: history,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 293\n              },\n              __self: this\n            });\n          } else {\n            return React.createElement(Redirect, {\n              to: \"/Dashboard\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 296\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }), this.state.user === null ? React.createElement(Redirect, {\n        to: \"/Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }) : null, React.createElement(Route, {\n        exact: true,\n        path: \"/Dashboard\",\n        render: function render() {\n          return React.createElement(Dashboard, {\n            all: _this4.state,\n            handleClientPick: _this4.handleClientPick,\n            uploadClients: _this4.upLoadClients,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 306\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/ClientPage\",\n        render: function render() {\n          return React.createElement(ClientPage, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 314\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/LogAWorkout\",\n        render: function render() {\n          return React.createElement(LogAWorkout, {\n            all: _this4.state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/Sync\",\n        render: function render(history) {\n          return React.createElement(SyncPage, {\n            history: history,\n            all: _this4.state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 323\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/redirect_page\",\n        render: function render(history) {\n          return React.createElement(SyncRedirect, {\n            redirectClient: _this4.redirectClient,\n            history: history,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/syncingPage\",\n        render: function render(history) {\n          return React.createElement(SyncingPage, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/Graphs\",\n        render: function render(history) {\n          return React.createElement(Scatter, {\n            fitness: _this4.state.fitness,\n            fatigue: _this4.state.fatigue,\n            freshness: _this4.state.freshness,\n            sleep: _this4.state.sleep,\n            weight: _this4.state.weight,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 339\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"*\",\n        render: function render() {\n          return React.createElement(Redirect, {\n            to: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 349\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/admin/Desktop/react-native-app/ascent-web/client/src/App.js"],"names":["React","Component","Route","Switch","Redirect","BrowserRouter","Router","moment","LandingPage","Login","Dashboard","ClientPage","LogAWorkout","SyncPage","SyncRedirect","SyncingPage","Scatter","LoadingPage","firebase","firestore","isThisSecond","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","App","props","state","clients","first","last","picked","stress_scores","weight","sleep","getStressScores","collection","doc","orderBy","get","then","snapshot","stressArray","cardioArrayYesterday","today","Date","yesterday","formattedToday","formatDate","formattedYesterday","forEach","docDate","data","start_date_local","slice","push","date","score","stress_score","setState","console","log","fullStressArray","i","length","date1","date2","dayDifference","x","add","format","lastWorkoutDate","daysSinceLastWorkout","Math","floor","getAllScores","fitness","fitnessArray","fitnessMultiplier","fatigue","fatigueArray","faitgueMultiplier","freshness","freshnessArray","stress","y","getBodyWeights","fillInBodyWeights","fullBodyWeight","start","weightStart","weightArray","sleepArray","placeholderWeight","placeholderSleep","seconds","Weight","Sleep","handleClientPick","bind","upLoadClients","redirectClient","client","id","d","month","getMonth","day","getDate","year","getFullYear","join","apps","initializeApp","auth","onAuthStateChanged","user","undefined","history"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport moment from 'moment';\n\n\nimport LandingPage from './components/LandingPage';\nimport Login from './components/Login/Login.js';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport ClientPage from './components/ClientPage/ClientPage';\nimport LogAWorkout from './components/LogAWorkout/LogAWorkout';\nimport SyncPage from './components/SyncPage/SyncPage';\nimport SyncRedirect from './components/SyncRedirect/SyncRedirect';\nimport SyncingPage from './components/SyncingPage/SyncingPage';\nimport Scatter from './components/Graph/Graphs'\nimport LoadingPage from './components/LoadingPage/LoadingPage'\n\n\nimport firebase from 'firebase';\nimport { firestore } from 'firebase';\nimport { isThisSecond } from 'date-fns';\n\n\n\nconst config = {\n  apiKey: \"AIzaSyDQSDfPrKEo3mwSOzTQjK2KxaZlIFEey6E\",\n  authDomain: \"ascent-2982c.firebaseapp.com\",\n  databaseURL: \"https://ascent-2982c.firebaseio.com\",\n  projectId: \"ascent-2982c\",\n  storageBucket: \"ascent-2982c.appspot.com\",\n  messagingSenderId: \"101065531447\"\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.handleClientPick = this.handleClientPick.bind(this);\n    this.upLoadClients = this.upLoadClients.bind(this);\n    this.redirectClient = this.redirectClient.bind(this);\n  }\n\n\n  state = {\n    clients: [],\n    first: '',\n    last: '',\n    picked: '',\n    stress_scores: [],\n    weight: [],\n    sleep: []\n  }\n\n  handleClientPick(client) {\n    this.setState({ picked: client.id, first: client.first, last: client.last }, () => {\n      this.getStressScores()\n      this.getBodyWeights()\n    })\n  }\n\n  formatDate(date) {\n    var d = new Date(date),\n      month = '' + (d.getMonth() + 1),\n      day = '' + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = '0' + month;\n    if (day.length < 2) day = '0' + day;\n\n    return [year, month, day].join('-');\n  }\n\n  getStressScores = () => {\n    firestore().collection('Users').doc(this.state.picked).collection('Cardio Workouts').orderBy('start_date_local', 'asc').get()\n      .then(snapshot => {\n        var stressArray = [];\n        var cardioArrayYesterday = [];\n        var today = new Date()\n        var yesterday = new Date(today - 86400000)\n        let formattedToday = this.formatDate(today)\n        let formattedYesterday = this.formatDate(yesterday)\n\n\n        snapshot.forEach(doc => {\n          let docDate = doc.data().start_date_local.slice(0, 10)\n          stressArray.push({ date: docDate, score: doc.data().stress_score })\n\n          if (docDate === formattedYesterday) {\n            cardioArrayYesterday.push(doc.data())\n          }\n        });\n\n        this.setState({ cardioArrayYesterday: cardioArrayYesterday })\n        console.log(stressArray)\n\n        var fullStressArray = [];\n\n        for (let i = 0; i < stressArray.length; i++) {\n\n          fullStressArray.push(stressArray[i])\n\n          if (i < stressArray.length - 1) {\n\n            var date1 = moment(stressArray[i].date);\n            var date2 = moment(stressArray[i + 1].date);\n            var dayDifference = (date2 - date1) / 86400000;\n\n            if (dayDifference > 1) {\n              for (let x = 1; x < dayDifference; x++) {\n                date1 = moment(date1).add(1, 'days').format('Y-MM-DD')\n                fullStressArray.push({ date: date1, score: 0 })\n\n              }\n            }\n          }\n\n          else {\n            // adds zeros to the end of the array to reach today's date if needed.\n            let lastWorkoutDate = new Date(stressArray[stressArray.length - 1].date.slice(0, 10));\n            let daysSinceLastWorkout = Math.floor((today - lastWorkoutDate) / (1000 * 60 * 60 * 24));\n            if (daysSinceLastWorkout > 0) {\n              for (let i = 1; i < daysSinceLastWorkout + 1; i++) {\n                lastWorkoutDate = moment(lastWorkoutDate).add(1, 'days').format('Y-MM-DD')\n                fullStressArray.push({ date: lastWorkoutDate, score: 0 })\n              }\n            }\n          }\n\n        }\n\n        this.setState({ stress_scores: fullStressArray }, () => {\n          this.getAllScores()\n        })\n\n\n      })\n\n  }\n\n\n\n\n\n\n  getAllScores = () => {\n    //grab stress scores\n    var stressArray = this.state.stress_scores;\n    // fitness\n    let fitness = 0;\n    let fitnessArray = [];\n    let fitnessMultiplier = (2 / 43);\n\n    //fatigue\n    let fatigue = 0;\n    let fatigueArray = [];\n    let faitgueMultiplier = (1 / 4);\n\n    // freshness\n    let freshness = 0;\n    let freshnessArray = []\n    let stress\n\n\n\n    for (let i = 0; i < stressArray.length; i++) {\n\n      // Reached the end on the stress Array. We don't want to throw and error \n      // by checking the next index ( doesn't exist)\n\n      if (i === stressArray.length - 1) {\n        let date = moment(stressArray[i].date)\n        stress = stress + stressArray[i].score\n        console.log(stress)\n\n        fitness += (stress - fitness) * fitnessMultiplier;\n        fatigue += (stress - fatigue) * faitgueMultiplier;\n        freshness = fitness - fatigue;\n\n\n        fitnessArray.push({ x: date, y: fitness });\n        fatigueArray.push({ x: date, y: fatigue })\n        freshnessArray.push({ x: date, y: freshness })\n      }\n\n\n      else {\n\n        stress = stressArray[i].score\n\n        if (stressArray[i].date === stressArray[i + 1].date) {\n          stress += stressArray[i + 1].score\n\n        }\n        else {\n\n          let date = moment(stressArray[i].date)\n\n\n          fitness += (stress - fitness) * fitnessMultiplier;\n          fitnessArray.push({ x: date, y: fitness });\n\n          fatigue += (stress - fatigue) * faitgueMultiplier;\n          fatigueArray.push({ x: date, y: fatigue })\n\n          freshness = fitness - fatigue\n          freshnessArray.push({ x: date, y: freshness })\n        }\n      }\n    }\n\n    this.setState({ fitness: fitnessArray, fatigue: fatigueArray, freshness: freshnessArray }, () => {\n      this.getBodyWeights()\n    })\n\n\n  }\n\n  fillInBodyWeights = () => {\n    let fullBodyWeight = [null]\n    let start = moment(this.state.fitness[0].x.i)\n    let weightStart = moment(this.state.weight[0].x.i)\n    var dayDifference = (weightStart - start) / 86400000;\n    console.log(weightStart)\n    if (dayDifference > 1) {\n      for (let x = 1; x < dayDifference; x++) {\n        start = moment(start).add(1, 'days').format('Y-MM-DD')\n        fullBodyWeight.push({ date: start, score: null })\n\n      }\n    }\n    console.log(fullBodyWeight)\n  }\n\n  getBodyWeights = () => {\n    firestore().collection('Users').doc(this.state.picked).collection('Body Metrics').orderBy('Date', 'asc').get()\n      .then(snapshot => {\n        let weightArray = []\n        let sleepArray = []\n        snapshot.forEach(doc => {\n          let placeholderWeight = {};\n          let placeholderSleep = {};\n          placeholderWeight.x = moment(doc.data().Date.seconds * 1000)\n          placeholderWeight.y = doc.data().Weight\n          weightArray.push(placeholderWeight)\n\n          placeholderSleep.x = moment(doc.data().Date.seconds * 1000)\n          placeholderSleep.y = doc.data().Sleep\n          sleepArray.push(placeholderSleep)\n\n        })\n\n        this.setState({ weight: weightArray, sleep: sleepArray }, () => {\n          this.fillInBodyWeights()\n        })\n      })\n  }\n  upLoadClients(clients) {\n    this.setState({ clients: clients })\n  }\n\n  redirectClient(client) {\n    this.setState({ picked: client })\n  }\n\n\n\n  componentWillMount() {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config);\n    }\n    firebase.auth().onAuthStateChanged((user) => {\n      this.setState({ user: user }, () => {\n        console.log(this.state)\n      })\n    })\n\n\n  }\n\n\n  render() {\n\n    return (\n      <div>\n        <Router>\n          <div>\n            <Switch>\n              <Route exact path=\"/\" render={() => <LandingPage />} />\n              {this.state.user === undefined ? <LoadingPage /> : null}\n              }\n              <Route exact path='/Login' render={(history) => {\n                if (this.state.user === null) {\n                  return <Login history={history} />\n                }\n                else {\n                  return <Redirect to='/Dashboard' />\n                }\n\n              }} />\n\n              {this.state.user === null ? <Redirect to=\"/Login\" /> : null}\n\n\n              <Route exact path='/Dashboard' render={() => {\n                return (\n                  <Dashboard\n                    all={this.state}\n                    handleClientPick={this.handleClientPick}\n                    uploadClients={this.upLoadClients}\n                  />)\n              }} />\n\n              <Route exact path='/ClientPage' render={() =>\n                <ClientPage />\n              } />\n\n              <Route exact path='/LogAWorkout' render={() => {\n                return (<LogAWorkout all={this.state} />)\n              }} />\n\n              <Route exact path='/Sync' render={(history) => {\n                return (\n                  <SyncPage\n                    history={history}\n                    all={this.state} />)\n              }} />\n\n              <Route path='/redirect_page' render={(history) => {\n                return <SyncRedirect\n                  redirectClient={this.redirectClient}\n                  history={history} />\n              }} />\n\n              <Route exact path='/syncingPage' render={(history) => {\n                return (<SyncingPage />)\n              }} />\n\n              <Route exact path='/Graphs' render={(history) => {\n                return (<Scatter\n                  fitness={this.state.fitness}\n                  fatigue={this.state.fatigue}\n                  freshness={this.state.freshness}\n                  sleep={this.state.sleep}\n                  weight={this.state.weight}\n                />)\n              }} />\n\n              <Route path='*' render={() => {\n                return (<Redirect to='/' />)\n              }} />\n\n            </Switch>\n\n          </div>\n        </Router>\n\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}